<section class="section admin_add__user bg-blue">
  <div class="jakay-container admin-container">
    <div class="back-to-page d-flex">
      <span>
        <a href="javascript:void(0)" (click)="goback()"
          ><img src="assets/images/backarrow.svg" /></a
      ></span>
      <div
        class="d-flex section-header justify-content-between w-100 align-items-center"
      >
        <h3 class="ms-3 font-38 text-primary fw-semibold">
          {{ "View Details" | translate }}
        </h3>
      </div>
    </div>
    <div class="admin_user-detail">
      <div class="row justify-content-between">
        <div class="col-xl-12 col-lg-6">
          <div class="bg-white p-4 br-12">
            <div class="row admin_detail-wrp">
              <div class="col-12 d-flex justify-content-between">
                <div class="form-group">
                  <p class="text-primary-light font-20">
                    {{ "ID" | translate }}:
                    <span class="text-secondary ms-2 font-20">
                      {{
                        contactUsDetails.id
                          ? (contactUsDetails.id.slice(0, 6) | uppercase)
                          : "-"
                      }}
                    </span>
                  </p>
                </div>
                <div class="form-group">
                  <p
                    *ngIf="contactUsDetails?.status === 'open'"
                    class="label in-progress d-inline-block d-lg-block nowrap"
                  >
                    {{ "Open" | translate }}
                  </p>
                  <p
                    *ngIf="contactUsDetails?.status === 'closed'"
                    class="label canceled d-inline-block d-lg-block nowrap"
                  >
                    {{ "Closed" | translate }}
                  </p>
                </div>
              </div>
              <hr />
              <div class="col-lg-4 col-md-6 col-12">
                <div class="form-group">
                  <label class="text-primary-light font-14 d-block mb-2">{{
                    "Name" | translate
                  }}</label>
                  <p class="text-primary font-18 mb-0 fw-semibold">
                    {{
                      contactUsDetails.first_name
                        ? contactUsDetails.first_name
                        : "-"
                    }}
                  </p>
                </div>
              </div>
              <div class="col-lg-4 col-md-6 col-12">
                <div class="form-group">
                  <label class="text-primary-light font-14 d-block mb-2">{{
                    "Surname" | translate
                  }}</label>
                  <p class="text-primary font-18 mb-0 fw-semibold">
                    {{
                      contactUsDetails.last_name
                        ? contactUsDetails.last_name
                        : "-"
                    }}
                  </p>
                </div>
              </div>
              <div class="col-lg-4 col-md-6 col-12">
                <div class="form-group">
                  <label class="text-primary-light font-14 d-block mb-2">{{
                    "Date" | translate
                  }}</label>
                  <p class="text-primary font-18 mb-0 fw-semibold">
                    {{
                      contactUsDetails.created_at
                        ? (contactUsDetails.created_at | date : "dd-MMMM-YYYY")
                        : "-"
                    }}
                  </p>
                </div>
              </div>
              <div class="col-lg-4 col-md-6 col-12">
                <div class="form-group">
                  <label class="text-primary-light font-14 d-block mb-2">{{
                    "Email ID" | translate
                  }}</label>
                  <p class="text-primary font-18 mb-0 fw-semibold">
                    {{ contactUsDetails.email ? contactUsDetails.email : "-" }}
                  </p>
                </div>
              </div>
              <div class="col-lg-4 col-md-6 col-12">
                <div class="form-group">
                  <label class="text-primary-light font-14 d-block mb-2">{{
                    "Mobile Number" | translate
                  }}</label>
                  <p class="text-primary font-18 mb-0 fw-semibold">
                    {{
                      contactUsDetails.country_code
                        ? contactUsDetails.country_code
                        : "-"
                    }}
                    {{
                      contactUsDetails.mobile_no
                        ? contactUsDetails.mobile_no
                        : "-"
                    }}
                  </p>
                </div>
              </div>
              <div class="col-lg-4 col-md-6 col-12">
                <div class="form-group">
                  <label class="text-primary-light font-14 d-block mb-2">{{
                    "Subject" | translate
                  }}</label>
                  <p class="text-primary font-18 mb-0 fw-semibold">
                    {{
                      contactUsDetails.subject ? contactUsDetails.subject : "-"
                    }}
                  </p>
                </div>
              </div>
              <div class="col-lg-12 col-md-6 col-12">
                <div class="form-group">
                  <label class="text-primary-light font-14 d-block mb-2">{{
                    "Message" | translate
                  }}</label>
                  <p class="text-primary font-18 mb-0 fw-semibold">
                    {{
                      contactUsDetails.message ? contactUsDetails.message : "-"
                    }}
                  </p>
                </div>
              </div>
            </div>
            <ng-container *ngIf="contactUsDetails.status === 'closed'">
              <hr />

              <div class="contact-detail__comment py-4">
                <div class="d-flex align-items-start">
                  <img
                    [src]="
                      contactUsDetails.closed_by?.profile_img
                        ? contactUsDetails.closed_by?.profile_img
                        : 'assets/images/user-icon.svg'
                    "
                    class="me-3 profile-img"
                  />
                  <div class="contact-detail__comment-user-message">
                    <p class="font-16 text-primary fw-semibold">
                      {{
                        contactUsDetails.closed_by
                          ? (contactUsDetails.closed_by.first_name | titlecase)
                          : "-"
                      }}
                      {{
                        contactUsDetails.closed_by
                          ? (contactUsDetails.closed_by.last_name | titlecase)
                          : "-"
                      }}
                      <span class="font-12">
                        ({{
                          contactUsDetails.closed_by
                            ? (contactUsDetails.closed_by.current_role
                                .split("_")
                                .join(" ") | titlecase)
                            : "-"
                        }})</span
                      >
                    </p>
                    <p class="font-10 text-primary-light fw-medium mb-3">
                      {{
                        contactUsDetails.closed_by?.date
                          ? (contactUsDetails.closed_by?.date
                            | date : "dd-MMMM-YYYY")
                          : "-"
                      }}
                    </p>
                    <p class="fw-semibold font-16 text-primary">
                      {{
                        contactUsDetails.closing_message
                          ? contactUsDetails.closing_message
                          : "-"
                      }}
                    </p>
                  </div>
                </div>
              </div>
            </ng-container>
          </div>
        </div>
      </div>
      <ng-container *ngIf="contactUsDetails.status === 'open'">
        <div class="btn-grp mt-3 d-flex">
          <button
            class="btn primary-btn me-3 border-1 btn-sm"
            data-bs-toggle="modal"
            data-bs-target="#becomesellerConfirmModal"
            (click)="openEmailPopup()"
          >
            {{ "Send An Email" | translate }}
          </button>
        </div>
      </ng-container>
    </div>
  </div>
</section>
