<div class="add__vehicle_form bg-blue section--spacing">
    <div class="jakay-container">
        <fieldset class="section pt-0" [ngClass]="{ 'd-none':  step != 1, '': step==1 }">
            <div class="fourth-step">
                <div class="back-to-page section-header d-flex align-items-center">
                    <span style="cursor: pointer" class="shw"  routerLink="/dealer/dashboard"><img class="arrowbg"
                            src="assets/images/backarrow.svg" /></span>
                    <div class="w-100 ms-3 d-sm-flex justify-content-between align-items-center">
                        <div class="me-sm-3">
                            <h3 class="font-27 text-primary fw-semibold">
                                {{ "Plans and Prices" | translate }}
                            </h3>
                        </div>
                    </div>
                </div>
                <h1 class="mb-3 fw-bold text-primary text-center pb-3">
                    Bienvenidos a Riku
                </h1>
                <h2 class="fw-regular text-primary text-center pb-3">
                    Escoje Tu Mejor Plan que se Ajuste a Tus Necesidades
                </h2>

                <div class="row gy-5 justify-content-around">
                    <div class="col-md-6 col-lg-4 col-xl-3 d-flex justify-content-center"
                        *ngFor="let planDealer of plans">
                        <sellers-plan-card [name]="planDealer.name" [price]="planDealer?.price || '0'"
                            [characteristics]="planDealer.characteristics" [bgColor]="planDealer.bgColor">
                        </sellers-plan-card>
                    </div>
                </div>

                <div class="d-sm-flex" style="margin-top: 100px">
                    <div class="prv-button btn--small me-sm-3 mb-3 mb-sm-0">
                        <button class="btn btn-sm primary-btn btn--small btn-md prev-btn shw" (click)="next()">
                            {{ "Next" | translate }}
                        </button>
                    </div>

                    <!-- <div class="next-button btn--small me-sm-3">
                  <button
                    (click)="onSubmit(false)"
                    [disabled]="
                      isImageUploading ||
                      isAdditionalImagesUploading ||
                      dataSubmitting
                    "
                    class="btn primary-btn btn--small btn-md"
                  >
                    <span
                      class="spinner-border spinner-border-sm btn--small"
                      role="status"
                      *ngIf="dataSubmitting"
                      aria-hidden="true"
                    ></span>
                    {{
                      vehicleId
                        ? ("Save Changes" | translate)
                        : ("Submit for Approval" | translate)
                    }}
                  </button>
                </div> -->

                    <!-- <div class="prv-button btn--small mt-3 mt-sm-0" *ngIf="vehicleId">
                <a
                  routerLink="/seller/vehicles"
                  class="btn primary-btn-outline btn-md btn--small"
                >
                  {{ "Cancel" | translate }}
                </a>
              </div> -->
                </div>
            </div>
        </fieldset>
        <fieldset class="section pt-0" [ngClass]="{ 'd-none':  step != 2, '': step==2 }">
            <div class="">


                <h1 class="mt-3 fw-bold text-primary font-32 pt-3">
                    Información de Contacto
                </h1>
                <div class="row mb-5 align-items-center">
                    <div class="col-lg-8 mt-4">
                        <div class="bg-white shw-card br-12 p-3">
                            <form [formGroup]="profileForm">
                                <div class="form-group">
                                    <div class="row">
                                        <div class="col-12 col-md-6">
                                            <div class="form-group lable--icon">
                                                <label class="mb-xl-3 mb-lg-2 mb-1 d-block fw-semibold">{{
                                                    "Name" | translate
                                                    }}</label>
                                                <div class="position-relative">
                                                    <img style="position: absolute; top: 30%; left: 19px"
                                                        class="input-icon-l" src="assets/images/user.svg"
                                                        alt="Mi Icono" />
                                                    <input style="padding-left: 60px !important" type="text"
                                                        class="form-control" AlphaNumeric
                                                        placeholder="{{ 'Enter Name' | translate }}" maxlength="20"
                                                        formControlName="first_name" readonly />
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-12 col-md-6">
                                            <div class="form-group lable--icon">
                                                <label class="mb-xl-3 mb-lg-2 mb-1 d-block fw-semibold">{{
                                                    "Surname" | translate
                                                    }}</label>
                                                <div class="position-relative">
                                                    <img style="position: absolute; top: 30%; left: 19px"
                                                        class="input-icon-l" src="assets/images/user.svg"
                                                        alt="Mi Icono" />
                                                    <input style="padding-left: 60px !important" type="text"
                                                        class="form-control" AlphaNumeric
                                                        placeholder="{{ 'Enter Surname' | translate }}" maxlength="20"
                                                        formControlName="last_name" readonly />
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-12 col-md-6">
                                            <div class="form-group lable--icon">
                                                <label class="mb-xl-3 mb-lg-2 mb-1 d-block fw-semibold">{{
                                                    "Cedula ID" | translate
                                                    }}</label>
                                                <div class="position-relative">
                                                    <img style="position: absolute; top: 35%; left: 16px"
                                                        class="input-icon-l" src="assets/images/dni.svg"
                                                        alt="Mi Icono" />
                                                    <input style="padding-left: 60px !important" type="text"
                                                        class="form-control" AlphaNumeric
                                                        placeholder="{{ 'ID Number' | translate }}" maxlength="20"
                                                        readonly />
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-12 col-md-6">
                                            <div class="form-group lable--icon">
                                                <label class="mb-xl-3 mb-lg-2 mb-1 d-block fw-semibold">{{
                                                    "Phone" | translate
                                                    }}</label>
                                                <div class="position-relative">
                                                    <img style="position: absolute; top: 30%; left: 16px"
                                                        class="input-icon-l" src="assets/images/phone-light.svg"
                                                        alt="Mi Icono" />
                                                    <input style="padding-left: 60px !important" type="text"
                                                        class="form-control" AlphaNumeric
                                                        placeholder="{{ 'Phone Number' | translate }}" maxlength="20"
                                                        formControlName="mobile" readonly />
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-12 col-md-6">
                                            <div class="form-group lable--icon">
                                                <label class="mb-xl-3 mb-lg-2 mb-1 d-block fw-semibold">{{
                                                    "Email" | translate
                                                    }}</label>
                                                <div class="position-relative">
                                                    <img style="position: absolute; top: 25%; left: 16px"
                                                        class="input-icon-l" src="assets/images/correo.svg"
                                                        alt="Mi Icono" />
                                                    <input style="padding-left: 60px !important" type="text"
                                                        class="form-control" AlphaNumeric
                                                        placeholder="{{ 'EmailPlaceHolder' | translate }}"
                                                        maxlength="20" formControlName="email" readonly />
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-12 col-md-6">
                                            <div class="form-group lable--icon">
                                                <label class="mb-xl-3 mb-lg-2 mb-1 d-block fw-semibold">{{
                                                    "Address" | translate
                                                    }}</label>
                                                <div class="position-relative">
                                                    <img style="position: absolute; top: 25%; left: 16px"
                                                        class="input-icon-l" src="assets/images/ep_location.svg"
                                                        alt="Mi Icono" />
                                                    <input style="padding-left: 60px !important" type="text"
                                                        class="form-control" AlphaNumeric
                                                        placeholder="{{ 'AddressPlaceholder' | translate }}"
                                                        maxlength="20" formControlName="address" readonly />
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                    <div class="col-lg-4 mt-4">
                        <div class="p-3">
                            <div class="bg-white br-12 p-3">
                                <h3 class="font-20 mb-2 text-purple-3">Resumen</h3>
                                <hr class="seprator text-primary-light mb-3" />
                                <div class="d-flex mb-3">
                                    <h4 class="font-20 me-2 text-purple-3">Plan:</h4>
                                    <h4 class="font-20 text-secondary fw-semibold">Recomendado</h4>
                                </div>
                                <div class="d-flex justify-content-between mb-3">
                                    <h4 class="font-20 text-purple-3">Subtotal</h4>
                                    <h4 class="font-20 text-purple-3">$399,00</h4>
                                </div>
                                <div class="d-flex justify-content-between mb-3">
                                    <h4 class="font-20 text-purple-3">12% iva</h4>
                                    <h4 class="font-20 text-purple-3">$00,00</h4>
                                </div>
                                <hr class="seprator text-primary-light mb-3" />
                                <div class="d-flex justify-content-between mb-3">
                                    <h3 class="font-20 text-secondary">Total</h3>
                                    <h3 class="font-20 text-secondary">$399,00</h3>
                                </div>

                                <div class="payment_wrapper--radio br-12">
                                    <div class="form-check form-check-inline mb-2 mb-md-3 mb-xl-4">
                                        <input class="form-check-input custom-checkbox" type="radio" name="payment"
                                            id="card" value="card" (click)="selectPaymentMethod($event)"
                                            [checked]="selectedPaymentMethod == 'card'" />
                                        <label class="form-check-label fw-medium font-15" for="card">
                                            <img class="me-3" data-card src="assets/images/card-purple.svg"
                                                alt="card" />
                                            {{ "Credit Card" | translate }}</label>
                                        <span class="dot-checkmark"></span>
                                    </div>
                                    <div class="form-check form-check-inline mb-2 mb-md-3 mb-xl-4">
                                        <input class="form-check-input custom-checkbox" type="radio" name="payment"
                                            id="cash" [checked]="selectedPaymentMethod == 'cash'" value="cash"
                                            (click)="selectPaymentMethod($event)" />
                                        <label class="form-check-label fw-medium font-15" for="cash">
                                            <img class="me-3" data-cash src="assets/images/cash-purple.svg"
                                                alt="cash" />
                                            {{ "Transfer or Deposit" | translate }}</label>
                                        <span class="dot-checkmark"></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="prv-button btn--small me-sm-3 mb-3 mb-sm-0">
                    <button class="btn btn-sm primary-btn-outline btn--small btn-md prev-btn me-2 shw"
                        (click)="previous()">
                        {{ "Previous" | translate }}
                    </button>
                    <button class="btn btn-sm primary-btn btn--small btn-md prev-btn shw" (click)="confirm()">
                        {{ "Next" | translate }}
                    </button>
                </div>
            </div>
        </fieldset>
        <fieldset class="section pt-0" [ngClass]="{ 'd-none':  step != 3, '': step==3 }">
            <div *ngIf="isPaymentMethodSelected">
                <ng-container>
                    <div class="mb-4">
                        <!-- <span (click)="back()"><img src="assets/images/backarrow.svg" /></span> -->
                        <div class="section-header">
                            <h3 class="mb-3 text-primary fw-semibold">
                                {{ "Bank Details" | translate }}
                            </h3>

                            <p class="font-16 fw-bold font-sm-10 text-primary">
                                {{ "Bank Account Information" | translate }}
                            </p>
                        </div>
                        <div *ngFor="let detail of banckDetails" class="row mb-3">
                            <div class="col-md-6 col-sm_12">
                                <div class="bg-white pb-2 px-3 br-12 shw-card">
                                    <div class="form-check form-check-inlineP mb-0 mb-xl-3 px-0">
                                        <label class="form-check-label text-primary fw-bold mt-2 px-0"
                                            for="{{ detail.bank_name }}">
                                            {{ detail.bank_name }}
                                        </label>
                                    </div>

                                    <div class="row">
                                        <div class="col-3">
                                            <img src="{{ detail.bank_logo }}" alt="{{ detail.bank_name }}" width="100px"
                                                class="img-fluid" />
                                        </div>
                                        <div class="col-9">
                                            <div class="row">
                                                <div class="col-6">
                                                    <p class="mb-3 font-14 text-primary fw-semibold">
                                                        {{ "Account Type" | translate }}:
                                                    </p>
                                                    <p class="mb-3 font-14 text-primary fw-semibold">
                                                        {{ "Account Number" | translate }}:
                                                    </p>
                                                    <p class="mb-3 font-14 text-primary fw-semibold">
                                                        {{ "Account Name" | translate }}:
                                                    </p>
                                                </div>
                                                <div class="col-6">
                                                    <p class="mb-3 font-14 text-primary fw-bold">
                                                        {{ detail.type_account }}
                                                    </p>
                                                    <p class="mb-3 font-14 text-primary fw-bold">
                                                        {{ detail.account_number }}
                                                    </p>
                                                    <p class="mb-3 font-14 text-primary fw-bold">
                                                        {{ detail.account_name }}
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6 d-flex justify-content-end">
                                <a class="fw-bold" href="../../../../assets/images/RIKU_TRANSFERENCIA_BANCARIA.pdf"
                                    download="Instrucciones.pdf">Descargar Instrucciones</a>
                            </div>
                        </div>
                    </div>
                    <div class="upload--report mt-4 mt-xl-5">
                        <p class="font-17 fw-bold font-sm-10 text-primary mb-sm-3 mb-0">
                            {{ "Upload Deposit Receipt" | translate }}
                        </p>
                        <div class="form-group mb-0">
                            <input type="file" class="c-none" placeholder="Upload Deposit Receipt" #document
                                (change)="onDocumentChange($event)" placeholder="Receipt Document" />
                            <input type="text" readonly class="form-control c-pointer font-17"
                                (click)="document.click()" placeholder="{{ 'Upload Receipt' | translate }}" />
                            <img src="assets/images/upload-icon.svg" (click)="document.click()"
                                class="input-icon uplode-icon" />

                            <span *ngIf="isDocumentUploading" class="spinner-border spinner-border-sm" role="status"
                                aria-hidden="true">
                            </span>
                            <div *ngIf="!receiptURL.length && isFormSubmitted">
                                <span class="text-danger font-17">{{
                                    "Please upload deposit receipt" | translate
                                    }}</span>
                            </div>

                            <div class="vehicle__uploaded-photo mt-3" *ngIf="receiptURL.length > 0">
                                <div class="d-flex flex-wrap">
                                    <div class="photo-wrp me-2 mb-2" *ngFor="let document of receiptURL; index as i">
                                        <span (click)="deleteLegalDocument(i)">×</span>
                                        <ng-container *ngIf="getFileType(document.download_url) == 'image'">
                                            <a href="{{ document.download_url }}" target="_blank"><img class="br-12"
                                                    [src]="document.download_url" /></a>
                                        </ng-container>
                                        <ng-container *ngIf="getFileType(document.download_url) == 'pdf'">
                                            <a href="{{ document.download_url }}" target="_blank"><img class="br-12"
                                                    src="assets/images/pdf_icon.png" /></a>
                                        </ng-container>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="mt-5 d-sm-flex">
                        <button class="btn primary-btn-outline btn-sm btn--small me-sm-3 shw"
                            (click)="resetPaymentMethod()">{{ "Previous" | translate }}</button>
                        <button class="btn primary-btn btn--small btn-sm border-1 mt-3 mt-sm-0 shw"
                            (click)="submitReceipt()">
                            {{ "Send" | translate }}
                        </button>
                    </div>
                </ng-container>

            </div>
        </fieldset>
        <fieldset class="section pt-0" [ngClass]="{ 'd-none':  step != 4, '': step==4 }">
            <!-- <ng-container *ngIf="currentOrder.bank_receipt.is_bank_receipt"> -->
            <h3 class="fw-semibold plus-jakarta font-24 mb-3">
                {{ "Payment Summary" | translate }}
            </h3>
            <!-- <div class="row">
                <div class=" col-md-6 col-sm-12 bg-white br-12 p-3 shw-card">
                    <p class="font-15 fw-medium text-primary mb-3 mb-lg-4 mt-3">
                        {{ "Total Paid Amount" | translate }}:
                        <span [ngClass]="{
                          'text-disabled': currentOrder.payment.status != 'success'
                        }" class="font-15 fw-medium text-primary mb-3 mb-lg-4">${{
                            currentOrder.loan
                            ? (depositAmount | spanishNumber)
                            : ((orderPrice*0.4) | spanishNumber)
                            }}</span>
                    </p>
                    <p class="font-15 fw-medium text-secondary mb-3 mb-lg-4">
                        {{ "Payment Method" | translate }} :
                        {{
                        currentOrder.payment.type == "cash"
                        ? ("Transfer Deposit" | translate)
                        : (currentOrder.payment.type | titlecase)
                        }}
                    </p>


                </div>
            </div>
            <p class="font-18 text-primary mb-3 mb-lg-4 mt-3 " *ngIf="
                      completedStep <= orderCurrentStepNumber.BUY_NOW &&
                      !currentOrder.payment.status
                    ">
                <b *ngIf="currentOrder.payment.status != 'failed'">
                    {{
                    currentOrder.payment.type == "cash"
                    ? ("Cash Confirmation Message" | translate)
                    : ("Bank Confirmation Message" | translate)
                    }}
                </b>
            </p>
            <p class="font-18 fw-semibold text-danger mb-3 mb-lg-4 mt-3"
                *ngIf="currentOrder.payment.status == 'failed'">
                {{ "You payment has been rejected by Riku" | translate }}
            </p>

            <p class="font-18 text-secondary mb-3 mb-lg-4 mt-3" *ngIf="
                      completedStep > orderCurrentStepNumber.BUY_NOW &&
                      currentOrder.payment.status == 'success'
                    ">
                {{ "Payment received successfully" | translate }}
            </p> -->
            <!-- </ng-container> -->
        </fieldset>

    </div>
</div>